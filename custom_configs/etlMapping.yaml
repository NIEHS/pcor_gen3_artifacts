mappings:
  - name: geospatial_resource
    doc_type: geospatial_data_resource
    type: aggregator
    root: geospatial_data_resource
    props:
      - name: project_id
      - name: submitter_id
      - name: obervation
      - name: time_extent_start
      - name: time_extent_end
      - name: spatial_resolution
      - name: spatial_coverage
      - name: resource_link
    joining_props:
      - index: data_file
        join_on: _dataset_id
        props:
          - name: data_format
            src: data_format
            fn: set
          - name: file_name
            src: file_name
            fn: set
          - name: data_type
            src: data_type
            fn: set
    parent_props:
      - path: projects[project_investigator_affiliation:investigator_affiliation, project_investigator_name:investigator_name, project_date:date_collected],resources[resource_id, resource_name:name, resource_secondary_name:seconday_name, resource_type, resource_description:description]
  - name: supplementary_file
    doc_type: data_file
    type: collector
    root: None
    category: data_file
    props:
        - name: object_id
        - name: md5sum
        - name: file_name
        - name: file_size
        - name: data_format
        - name: data_type
    injecting_props:
      dataset:
            props:
              - name: _dataset_id
                src: id
                fn: set
              - name: submitter_id
                src: submitter_id
                fn: set
              - name: project_id
                src: project_id
                fn: set
              
