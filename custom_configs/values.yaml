global:
  hostname: localhost
  dictionaryUrl: https://raw.githubusercontent.com/NIEHS/pcor_gen3_artifacts/develop/custom_configs/schema.json

fence: 
  FENCE_CONFIG:
    MOCK_AUTH: true
  # -- (string) USER YAML. Passed in as a multiline string.
  USER_YAML: |
    cloud_providers: {}
    groups: {}
    authz:
      # policies automatically given to anyone, even if they are not authenticated
      anonymous_policies:
      - open_data_reader

      # policies automatically given to authenticated users (in addition to their other policies)
      all_users_policies: []

      groups:
      # can CRUD programs and projects and upload data files
      - name: data_submitters
        policies:
        - services.sheepdog-admin
        - data_upload
        - project_submitter
        users:
        - deeppatel.cs@gmail.com
        - michael.c.conway@gmail.com
        - sznolte@gmail.com
        - schmittcp@yahoo.com
        - test@example.com
        - test
        # can do workspace operations
      - name: workspace_users
        policies:
          - workspace
          - sower
        users:
          - deeppatel.cs@gmail.com
          - michael.c.conway@gmail.com
          - test@example.com
          - sznolte@gmail.com
          - schmittcp@yahoo.com
          - test
        # can create/update/delete indexd records
      - name: indexd_admins
        policies:
        - indexd_admin
        users:
        - deeppatel.cs@gmail.com
        - michael.c.conway@gmail.com
        - test@example.com
        - sznolte@gmail.com
        - schmittcp@yahoo.com
        - test
      resources:
      - name: 'mds_gateway'
        description: 'commons /mds-admin'
      - name: workspace
      - name: sower
      - name: data_file
      - name: services
        subresources:
        - name: sheepdog
          subresources:
          - name: submission
            subresources:
            - name: program
            - name: project
      - name: open
      - name: programs
        subresources:
        - name: CHORDS
          subresources:
          - name: projects
            subresources:
              - name: CHORDS
        - name: MTBS
          subresources:
          - name: projects
            subresources:
              - name: MTBS
        - name: NFS
          subresources:
          - name: projects
            subresources:
              - name: NFS-1
              - name: NFS-2
        - name: USGS
          subresources:
          - name: projects
            subresources:
              - name: USGS-1
              - name: USGS-2
        - name: NOAA
          subresources:
          - name: projects
            subresources:
              - name: NOAA-1
              - name: NOAA-2
        - name: EPA
          subresources:
          - name: projects
            subresources:
              - name: EPA-1
              - name: EPA-2
        - name: NASA
          subresources:
          - name: projects
            subresources:
              - name: NASA-1
              - name: NASA-2
        - name: jnkns
          subresources:
            - name: projects
              subresources:
                - name: jenkins
        #- name: program1
        #  subresources:
        #  - name: projects
        #    subresources:
        #    - name: P1

      policies:
      - id: 'mds_admin'
        description: 'be able to use metadata service'
        resource_paths: ['/mds_gateway']
        role_ids: ['mds_user']
      - id: workspace
        description: be able to use workspace
        resource_paths:
        - /workspace
        role_ids:
        - workspace_user
      - id: data_upload
        description: upload raw data files to S3
        role_ids:
        - file_uploader
        resource_paths:
        - /data_file
      - id: services.sheepdog-admin
        description: CRUD access to programs and projects
        role_ids:
          - sheepdog_admin
        resource_paths:
          - /services/sheepdog/submission/program
          - /services/sheepdog/submission/project
      - id: indexd_admin
        description: full access to indexd API
        role_ids:
          - indexd_admin
        resource_paths:
          - /programs
          - /data_file
      - id: open_data_reader
        role_ids:
          - reader
          - storage_reader
        resource_paths:
        - /open
        - /programs/CHORDS/projects/CHORDS
        - /programs/MTBS/projects/MTBS
        - /programs/NFS/projects/NFS-1
        - /programs/NFS/projects/NFS-2
        - /programs/USGS/projects/USGS-1
        - /programs/USGS/projects/USGS-2
        - /programs/NOAA/projects/NOAA-1
        - /programs/NOAA/projects/NOAA-2
        - /programs/EPA/projects/EPA-1
        - /programs/EPA/projects/EPA-2
        - /programs/NASA/projects/NASA-1
        - /programs/NASA/projects/NASA-2

      - id: all_programs_reader
        role_ids:
        - reader
        - storage_reader
        resource_paths:
        - /programs
      - id: project_submitter
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/CHORDS/projects/CHORDS
        - /programs/MTBS/projects/MTBS
        - /programs/NFS/projects/NFS-1
        - /programs/NFS/projects/NFS-2
        - /programs/USGS/projects/USGS-1
        - /programs/USGS/projects/USGS-2
        - /programs/NOAA/projects/NOAA-1
        - /programs/NOAA/projects/NOAA-2
        - /programs/EPA/projects/EPA-1
        - /programs/EPA/projects/EPA-2
        - /programs/NASA/projects/NASA-1
        - /programs/NASA/projects/NASA-2
      - id: jnkns
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/jnkns
        - /programs/jnkns/projects/jenkins
      - id: sower
        description: be able to user sower
        resource_paths:
        - /sower
        role_ids:
        - sower_user
      - id: CHORDS
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/CHORDS
      - id: MTBS
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/MTBS
      - id: NFS
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/NFS
      - id: USGS
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/USGS
      - id: NOAA
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/NOAA
      - id: EPA
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/EPA
      - id: NASA
        role_ids:
        - reader
        - creator
        - updater
        - deleter
        - storage_reader
        - storage_writer
        resource_paths:
        - /programs/NASA
      roles:
      - id: 'mds_user'
        permissions:
        - id: 'mds_access'
          action:
            service: 'mds_gateway'
            method: 'access'
      - id: file_uploader
        permissions:
        - id: file_upload
          action:
            service: fence
            method: file_upload
      - id: workspace_user
        permissions:
        - id: workspace_access
          action:
            service: jupyterhub
            method: access
      - id: sheepdog_admin
        description: CRUD access to programs and projects
        permissions:
        - id: sheepdog_admin_action
          action:
            service: sheepdog
            method: '*'
      - id: indexd_admin
        description: full access to indexd API
        permissions:
        - id: indexd_admin
          action:
            service: indexd
            method: '*'
      - id: admin
        permissions:
          - id: admin
            action:
              service: '*'
              method: '*'
      - id: creator
        permissions:
          - id: creator
            action:
              service: '*'
              method: create
      - id: reader
        permissions:
          - id: reader
            action:
              service: '*'
              method: read
      - id: updater
        permissions:
          - id: updater
            action:
              service: '*'
              method: update
      - id: deleter
        permissions:
          - id: deleter
            action:
              service: '*'
              method: delete
      - id: storage_writer
        permissions:
          - id: storage_creator
            action:
              service: '*'
              method: write-storage
      - id: storage_reader
        permissions:
          - id: storage_reader
            action:
              service: '*'
              method: read-storage
      - id: sower_user
        permissions:
          - id: sower_access
            action:
              method: access
              service: job

    clients:
      wts:
        policies:
        - all_programs_reader
        - open_data_reader

    users:
      deeppatel.cs@gmail.com:
        tags:
          name: Deep Patel
        policies:
        - mds_admin
        - workspace
        - data_upload
        - project_submitter
        - jnkns
        - NFS
        - CHORDS
        - MTBS
        - USGS
        - NOAA
        - EPA
        - NASA
        - services.sheepdog-admin
      michael.c.conway@gmail.com:
        tags:
          name: Mike Conway
        policies:
        - workspace
        - mds_admin
        - data_upload
        - project_submitter
        - jnkns
        - NFS
        - CHORDS
        - MTBS
        - USGS
        - NOAA
        - EPA
        - NASA
        - services.sheepdog-admin
      test@example.com:
        tags:
          name: Mike Conway
        policies:
        - workspace
        - data_upload
        - project_submitter
        - mds_admin
        - jnkns
        - NFS
        - CHORDS
        - MTBS
        - USGS
        - NOAA
        - EPA
        - NASA
        - services.sheepdog-admin
      sznolte@gmail.com:
        tags:
          name: Mike Conway
        policies:
          - workspace
          - data_upload
          - project_submitter
          - jnkns
          - NFS
          - CHORDS
          - MTBS
          - USGS
          - NOAA
          - EPA
          - NASA
          - services.sheepdog-admin
      schmittcp@yahoo.com:
        tags:
          name: Charles Schmitt
        policies:
          - workspace
          - data_upload
          - project_submitter
          - jnkns
          - NFS
          - CHORDS
          - MTBS
          - USGS
          - NOAA
          - EPA
          - NASA
          - services.sheepdog-admin
      test:
        tags:
          name: test
        policies:
          - workspace
          - data_upload
          - project_submitter
          - mds_admin
          - jnkns
          - NFS
          - CHORDS
          - MTBS
          - USGS
          - NOAA
          - EPA
          - NASA
          - services.sheepdog-admin

portal:
  # -- (map) GitOps configuration for portal
  gitops:
    # -- (string) multiline string - gitops.json
    json: |
      {
        "graphql": {
          "boardCounts": [
            {
              "graphql": "_geospatial_data_resource_count",
              "name": "Geospatial Data Resource",
              "plural": "Geospatial Data Resources"
            },
            {
              "graphql": "_geospatial_tool_resource_count",
              "name": "Geospatial Tool Resource",
              "plural": "Geospatial Tool Resources"
            },
            {
              "graphql": "_population_data_resource_count",
              "name": "Population Data Resource",
              "plural": "Population Data Resources"
            }

          ],
          "chartCounts": [
            {
              "graphql": "_geospatial_data_resource_count",
              "name": "Geospatial Data Resource",
              "plural": "Geospatial Data Resources"
            },
            {
              "graphql": "_geospatial_tool_resource_count",
              "name": "Geospatial Tool Resource",
              "plural": "Geospatial Tool Resources"
            },
            {
              "graphql": "_population_data_resource_count",
              "name": "Population Data Resource",
              "plural": "Population Data Resources"
            }
          ],
          "projectDetails": "boardCounts"
        },
        "components": {
          "appName": "PCOR Resource Catalog",
          "index": {
            "introduction": {
              "heading": "PCOR Resource Catalog",
              "text": "PCOR things!",
              "link": "/submission"
            },
            "buttons": [
              {
                "name": "Explore Data",
                "icon": "data-explore",
                "body": "Use the Exploration tool for cohort building via faceted search and downloading of subsets of data.",
                "link": "/explorer",
                "label": "Explore Data"
              },
              {
                "name": "Data Dictionary",
                "icon": "data-field-define",
                "body": "The Data Commons employs a data model to power queries and data submissions. Study the dictionary to send GraphQL queries or format your data submissions.",
                "link": "/DD",
                "label": "View Dictionary"
              },
              {
                "name": "Query Data",
                "icon": "data-access",
                "body": "Search and download subsets of data from the Catalog using GraphQL queries.",
                "link": "/query",
                "label": "Query Data"
              },
              {
                "name": "Analyze Data",
                "icon": "data-analyze",
                "body": "Perform analysis on the Catalog using Jupyter Notebooks.",
                "link": "/workspace",
                "label": "Run Analysis"
              }
            ],
            "homepageChartNodes": []
          },
          "navigation": {
            "items": [
              {
                "icon": "query",
                "link": "/discovery",
                "name": "Discovery",
                "tooltip": "Use free-text search and tags to rapidly find relevant studies."
              },
              {
                "name": "Exploration",
                "link": "/explorer",
                "icon": "exploration",
                "tooltip": "The Exploration Page enables discovery of the climate related resources"
              },
              {
                "icon": "dictionary",
                "link": "/DD",
                "color": "#a2a2a2",
                "name": "Dictionary",
                "tooltip": "The PCOR Catalog employs a data model to power queries and data submissions. Study the dictionary to send GraphQL queries or format your data submissions."
              },
              {
                "name": "Query",
                "link": "/query",
                "icon": "query",
                "tooltip": "Query the databases using GraphQL."
              },
              {
                "name": "Workspace",
                "link": "/workspace",
                "icon": "workspace",
                "tooltip": "The Workspace provides a secure cloud environment featuring Jupyter Notebooks and RStudio."
              },
              {
                "icon": "profile",
                "link": "/identity",
                "color": "#a2a2a2",
                "name": "Profile"
              }
            ]
          },
          "login": {
            "title": "CHORDS Catalog",
            "subTitle": "Explore, Analyze, and Share Climate and Health Resources",
            "text": "",
            "contact": "If you have any questions about access or the registration process, please contact ",
            "email": "mike.conway@nih.gov"
          },
          "categorical9Colors": ["#B02F34", "#421C52", "#AEEBF2", "#E0DD10", "#40476D", "#FFA630", "#AE8799", "#035C94", "#462255"],
          "footerLogos": [
            {
              "src": "/src/img/gen3.png",
              "href": "https://ctds.uchicago.edu/gen3",
              "alt": "Gen3 Data Commons"
            }
          ]
        },
        "featureFlags": {
          "explorer": true,
          "analysis": false,
          "explorerPublic": true,
          "discovery": true
        },
        "requiredCerts": [ ],
        "discoveryConfig":{
          "requireLogin": false,
          "public": true,
          "features": {
            "pageTitle": {
              "enabled": true,
              "text": "PCOR Data Resources"
            },
            "search": {
              "searchBar": {
                "enabled": true,
                "inputSubtitle": "PCOR Resource Search",
                "placeholder": "Search climate and health resources by keyword",
                "searchableTextFields": ["name", "long_name", "description", "domain", "program_name"]

              },
              "tagSearchDropdown": { 
                "enabled": true,
                "collapseOnDefault": true, 
                "collapsibleButtonText": "Resource Characteristics" 
              }
            },
            "advSearchFilters": {
              "enabled": true,
              "field": "advSearchFilters",
              "displayName": "Filters",
              "filters": [
                {
                  "key": "Resource Type"
                },
                {
                  "key": "Program"
                },
                {
                  "key": "Domain"
                },
                {
                  "key": "Measures"
                },
                {
                  "key": "Exposure Media"
                }

              ]
            },
            "tagsColumn": {
              "enabled": false
            },
            "tagsInDescription": {
              "enabled": true
            },
            "authorization": {
              "enabled": false
            }
          },
          "aggregations": [
            {
              "name": "Resources",
              "field": "resource_id",
              "type": "count"
            }
          ],
          "tagSelector": {
            "title": "Tags by category"
          },
          "studyColumns":[
          {
              "name": "Resource Type",
              "field": "type",
              "errorIfNotAvailable": false,
              "valueIfNotAvailable": "n/a"
          }, 
          {
              "name": "Resource Name",
              "field": "name",
              "errorIfNotAvailable": false,
              "valueIfNotAvailable": "n/a"
          },
          {
            "name": "Program Name",
            "field": "program_name",
            "errorIfNotAvailable": false,
            "valueIfNotAvailable": "n/a"
          }
          ],
          "studyPreviewField": {
            "name": "Description",
            "field": "description",
            "contentType": "block",
            "includeName": false,
            "includeIfNotAvailable": true,
            "valueIfNotAvailable": ""
          },
          "detailView": {
            "headerField": "name",
              "tabs": [
                {
                  "tabName": "Summary",
                  "groups": [
                    {
                      "header": "Description",
                      "fields": [
                        {
                          "type": "block",
                          "sourceField": "description"
                        }
                      ]
                    },
                    {
                      "header": "Details",
                      "fields": [
                        {
                          "type": "block",
                          "sourceField": "comment"
                        }
                      ]
                    },
                    {
                      "header": "Program Name",
                      "fields": [
                        {
                          "type": "string",
                          "label": "Program Name",
                          "sourceField": "program_name",
                          "default": "n/a"

                        } 
                      ]
                      },
                      {
                        "header": "Project",
                        "fields": [
                          {
                            "type": "text",
                            "label": "Project Name",
                            "sourceField": "project_name",
                            "default": "n/a"

                          },
                          {
                            "type": "link",
                            "label": "Project Link",
                            "sourceField": "project_url",
                            "default": "n/a"
                          },
                          {
                            "type": "text",
                            "sourceField": "project_description",
                            "default": "n/a"
        
                          }
                      ]
                    },
                    {
                      "header": "Details",
                      "fields": [
                        {
                          "type": "text",
                          "label": "Domain",
                          "sourceField": "domain",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "Has API",
                          "sourceField": "has_api",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "Has Visualization Tool",
                          "sourceField": "has_visualization_tool",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "Citizen Collected?",
                          "sourceField": "is_citizen_collected",
                          "default": "n/a"

                        }
                      ]
                    },

                    {
                      "header": "Resource Links",
                      "fields": [
                        {
                          "type": "link",
                          "label": "Resource URL",
                          "sourceField": "resource_url",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "License Type",
                          "sourceField": "license_type",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "License Text",
                          "sourceField": "license_text",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "Citation",
                          "sourceField": "citation",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "Subject to Data Usage Agreement",
                          "sourceField": "resource_use_agreement",
                          "default": "n/a"

                        },
                        {
                          "type": "text",
                          "label": "Resource Contact",
                          "sourceField": "resource_contact",
                          "default": "n/a"

                        }
                      ]
                    }
                  ]
                  },
                  {
                    "tabName": "Source",
                    "groups": [
                      {
                        "header": "Source Information",
                        "fields": [
                          {
                            "type": "text",
                            "label": "Support Source",
                            "sourceField": "support_source",
                            "default": "n/a"
                          
                          },
                          {
                            "type": "text",
                            "label": "Investigator Name",
                            "sourceField": "investigator_name",
                            "default": "n/a"
                          },
                          {
                            "type": "text",
                            "label": "Investigator Affiliation",
                            "sourceField": "investigator_affiliation",
                            "default": "n/a"
                          }
                        ]
                      },
                      {
                        "header": "Resource Links",
                        "fields": [
                          {
                            "type": "link",
                            "label": "Resource URL",
                            "sourceField": "resource_url",
                            "default": "n/a"
                          },
                          {
                            "type": "text",
                            "label": "License Type",
                            "sourceField": "license_type",
                            "default": "n/a"
                          },
                          {
                            "type": "block",
                            "label": "License Text",
                            "sourceField": "license_text",
                            "default": "n/a"
                          },
                          {
                            "type": "block",
                            "label": "Citation",
                            "sourceField": "citation",
                            "default": "n/a"
                          },
                          {
                            "type": "text",
                            "label": "Resource Use Agreement?",
                            "sourceField": "resource_use_agreement",
                            "default": "n/a"
                          },
                          {
                            "type": "text",
                            "label": "Resource Contact",
                            "sourceField": "resource_contact",
                            "default": "n/a"
                          }
                        ]
                      }
                    ]
                    }
            ]
          },
          "minimalFieldMapping": {
            "tagsListFieldName": "tags",
            "uid": "resource_id"
          },
          "tagCategories": [
            {
              "name": "Program",
              "color": "rgba(71, 130, 195, 1)",
              "display": true
            },
            {
              "name": "Keyword",
              "color": "rgba(81, 175, 195, 1)",
              "display": true
            },
            {
              "name": "Domain",
              "color": "rgba(81, 100, 54, 1)",
              "display": true
            },
            {
              "name": "Resource Type",
              "color": "rgba(121, 112, 103, 1)",
              "display": true
            }

          ]
        },
        "analysisTools": [ ],
        "explorerConfig": [
          {
            "tabTitle": "Geospatial Data Resources",
            "charts": {
              "project_investigator_affiliation": {
                "chartType": "bar",
                "title": "Investigator Affiliation"
              }
            },
            "filters": {
              "tabs": [
                {
                  "title": "Geospatial Data Resources",
                  "fields":[
                  
                    "includes_citizen_collected",
                    "measures",
                    "domain",
                    "keywords",
                    "exposure_media",
                    "model_methods",
                    "has_api",
                    "has_visualization_tool",
                    "resource_use_agreement",
                    "payment_required"
                  ]
                },
                {
                  "title": "Temporal/Spatial Details",
                  "fields":[
                    "spatial_resolution",
                    "spatial_coverage",
                    "geometry_type",
                    "geometry_source",
                    "geographic_feature",
                    "time_extent_start",
                    "time_extent_end",
                    "temporal_resolution"
                  ]
                },
                {
                  "title": "Project/Program Details",
                  "fields":[
                    "program_name",
                    "project_name"
                  ]
                }
              ]
            },
            "table": {
              "enabled": true,
              "fields": [
                "resource_name",
                "resource_description",
                "measures",
                "exposure_media",
                "time_extent_start",
                "time_extent_end",
                "resource_description",
                "spatial_resolution",
                "spatial_coverage",
                "resource_url"
              ],
              "linkFields": [
                "resource_url"
              ]
            },
            "dropdowns": {
              "download-table": {
                "title": "Download Dataset Table"
              }
            },
            "buttons": [
              {
                "enabled": true,
                "type": "data-json",
                "title": "JSON",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.json"
              },
              {
                "enabled": true,
                "type": "data-tsv",
                "title": "TSV",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.tsv"
              },
              {
                "enabled": true,
                "type": "data-csv",
                "title": "CSV",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.csv"
              }
            ],
            "loginForDownload": true,
            "guppyConfig": {
              "dataType": "geospatial_data_resource",
              "nodeCountTitle": "Geospatial Data Resources",
              "fieldMapping": [
                {
                  "field": "project_id",
                  "name": "Dataset ID"
                },
                {
                  "field": "submitter_id",
                  "name": "Dataset Name"
                }
              ],
              "accessibleFieldCheckList": ["project_id"],
              "accessibleValidationField": "project_id"
            }
          },
          {
            "tabTitle": "Population Data Resources",
            "charts": {
              "project_investigator_affiliation": {
                "chartType": "bar",
                "title": "Investigator Affiliation"
              }
            },
            "filters": {
              "tabs": [
                {
                  "title": "Population Data Resources",
                  "fields":[
                    "population",
                    "vulnerable_population",
                    "exposures",
                    "outcomes",
                    "model_methods"
                  ]
                },
                {
                  "title": "Temporal/Spatial Details",
                  "fields":[
                    "time_extent_start",
                    "time_extent_end",
                    "temporal_resolution",
                    "spatial_resolution",
                    "spatial_coverage",
                    "geometry_type",
                    "geometry_source"
                  ]
                },
                {
                  "title": "Project/Program Details",
                  "fields":[
                    "program_name",
                    "project_name"
                  ]
                }
              ]
            },
            "table": {
              "enabled": true,
              "fields": [
                "resource_name",
                "resource_description",
                "population",
                "vulnerable_population",
                "model_methods",
                "resource_name",
                "resource_description",
                "resource_url"
              ],
              "linkFields": [
                "resource_url"
              ]
            },
            "dropdowns": {
              "download-table": {
                "title": "Download Dataset Table"
              }
            },
            "buttons": [
              {
                "enabled": true,
                "type": "data-json",
                "title": "JSON",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.json"
              },
              {
                "enabled": true,
                "type": "data-tsv",
                "title": "TSV",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.tsv"
              },
              {
                "enabled": true,
                "type": "data-csv",
                "title": "CSV",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.csv"
              }
            ],
            "loginForDownload": true,
            "guppyConfig": {
              "dataType": "population_data_resource",
              "nodeCountTitle": "Population Data Resources",
              "fieldMapping": [
                {
                  "field": "project_id",
                  "name": "Dataset ID"
                },
                {
                  "field": "submitter_id",
                  "name": "Dataset Name"
                }
              ],
              "accessibleFieldCheckList": ["project_id"],
              "accessibleValidationField": "project_id"
            }
          },
          {
            "tabTitle": "Geospatial Tool Resources",
            "charts": {
              "project_investigator_affiliation": {
                "chartType": "bar",
                "title": "Investigator Affiliation"
              }
            },
            "filters": {
              "tabs": [
                {
                  "title": "Geospatial Tool Resources",
                  "fields":[
                    "program_name",
                    "project_id",
                    "tool_type",
                    "usage_type",
                    "operating_system",
                    "languages",
                    "input_formats",
                    "output_formats",
                    "domain",
                    "model_methods"
                  ]
                },
                {
                  "title": "Temporal/Spatial Details",
                  "fields":[
                    "time_extent_start",
                    "time_extent_end",
                    "temporal_resolution",
                    "spatial_resolution",
                    "spatial_coverage",
                    "geometry_type",
                    "geometry_source"
                  ]
                },
                {
                  "title": "Project/Program Details",
                  "fields":[
                    "program_name",
                    "project_name"
                  ]
                }
              ]
            },
            "table": {
              "enabled": true,
              "fields": [
                "resource_name",
                "resource_description",
                "tool_type",
                "usage_type",
                "resource_url"
              ],
              "linkFields": [
                "resource_url"
              ]
            },
            "dropdowns": {
              "download-table": {
                "title": "Download Dataset Table"
              }
            },
            "buttons": [
              {
                "enabled": true,
                "type": "data-json",
                "title": "JSON",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.json"
              },
              {
                "enabled": true,
                "type": "data-tsv",
                "title": "TSV",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.tsv"
              },
              {
                "enabled": true,
                "type": "data-csv",
                "title": "CSV",
                "dropdownId": "download-table",
                "leftIcon": "datafile",
                "rightIcon": "download",
                "fileName": "datasets_table.csv"
              }
            ],
            "loginForDownload": true,
            "guppyConfig": {
              "dataType": "geospatial_tool_resource",
              "nodeCountTitle": "Geospatial Tool Resources",
              "fieldMapping": [
                {
                  "field": "project_id",
                  "name": "Dataset ID"
                },
                {
                  "field": "submitter_id",
                  "name": "Dataset Name"
                }
              ],
              "accessibleFieldCheckList": ["project_id"],
              "accessibleValidationField": "project_id"
            }
          }
        ],
        "connectSrcCSPWhitelist": [
          "https://localhost"
        ]
      }

etl:
  etlMapping:
    mappings:
        - name: geospatial_data_resource
          doc_type: geospatial_data_resource
          type: aggregator
          root: geospatial_data_resource
          props:
            - name: project_id
            - name: submitter_id
            - name: comments
            - name: intended_use
            - name: source_name
            - name: update_frequency
            - name: includes_citizen_collected
            - name: has_api
            - name: has_visualization_tool
            - name: measures
            - name: time_extent_start
            - name: time_extent_end
            - name: time_available_comment
            - name: temporal_resolution
            - name: spatial_resolution
            - name: spatial_coverage
            - name: spatial_bounding_box
            - name: geometry_type
            - name: geometry_source
            - name: geographic_feature
            - name: model_methods
            - name: exposure_media
          parent_props:
            - path: resources[resource_id, resource_name:name, resource_short_name:short_name, resource_type, resource_description:description, resource_citation:citation, payment_required, domain, keywords, license_type, license_text, verification_datetime, resource_use_agreement, resource_contact, resource_url].projects[project_code:code, project_investigator_affiliation:investigator_affiliation, project_investigator_name:investigator_name, project_date:date_collected, project_name:name, project_short_name:short_name, support_source, support_id, project_url].programs[program_name:name, program_short_name:short_name, program_type, program_url]
        - name: population_data_resource
          doc_type: population_data_resource
          type: aggregator
          root: population_data_resource
          props:
            - name: project_id
            - name: submitter_id
            - name: comments
            - name: intended_use
            - name: source_name
            - name: update_frequency
            - name: includes_citizen_collected
            - name: has_api
            - name: has_visualization_tool
            - name: time_extent_start
            - name: time_extent_end
            - name: time_available_comment
            - name: temporal_resolution
            - name: spatial_resolution
            - name: spatial_coverage
            - name: spatial_bounding_box
            - name: geometry_type
            - name: geometry_source
            - name: population
            - name: vulnerable_population
            - name: exposures
            - name: outcomes
            - name: model_methods
          parent_props:
            - path: resources[resource_id, resource_name:name, resource_short_name:short_name, resource_type, resource_description:description, resource_citation:citation, payment_required, domain, keywords, license_type, license_text, verification_datetime, resource_use_agreement, resource_contact, resource_url].projects[project_code:code, project_investigator_affiliation:investigator_affiliation, project_investigator_name:investigator_name, project_date:date_collected, project_name:name, project_short_name:short_name, support_source, support_id, project_url].programs[program_name:name, program_short_name:short_name, program_type, program_url]
guppy:
  enabled: true
  image:
    tag: "feat_es7"
  esEndpoint: ""
  # -- (list) Elasticsearch index configurations
  indices:
  - index: geospatial_data_resource
    type: geospatial_data_resource
  - index: population_data_resource
    type: population_data_resource
  # -- (string) The Elasticsearch configuration index
  configIndex: geospatial_data_resource-array-config

hatchery:
  enabled: false

